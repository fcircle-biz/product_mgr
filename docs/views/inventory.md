# 在庫管理画面仕様書

最終更新日: 2025年5月4日

## 1. 画面概要

商品の在庫状況を一覧表示し、在庫の入出庫処理を行うための画面です。

## 2. 画面レイアウト

### ワイヤーフレーム

```
+-----------------------------------------------+
|  商品管理システム > 在庫管理       ログアウト  |
+-----------------------------------------------+
|                                               |
|  [ 商品検索: ___________________ ] [検索]     |
|                                               |
|  カテゴリ: [▼選択] 在庫状況: [▼選択] [絞込]  |
|                                               |
|  [+ 入庫登録] [- 出庫登録]       表示: [▼25]  |
|                                               |
|  +-----+-------------+----------+--------+    |
|  | ID  | 商品名      | 在庫数   | 状態   |    |
|  +-----+-------------+----------+--------+    |
|  | 001 | 商品A       | 120 個   | 十分   |    |
|  +-----+-------------+----------+--------+    |
|  | 002 | 商品B       | 5 個     | 少量   |    |
|  +-----+-------------+----------+--------+    |
|  | 003 | 商品C       | 0 個     | 在庫切 |    |
|  +-----+-------------+----------+--------+    |
|  | ... | ...         | ...      | ...    |    |
|  +-----+-------------+----------+--------+    |
|                                               |
|  [<<] [<] 1 2 3 ... [>] [>>]   全100件       |
|                                               |
+-----------------------------------------------+
```

## 3. 検索/絞込条件

| 項目名 | 入力/選択項目 | 備考 |
|-------|-------------|------|
| 商品検索 | テキスト入力 | 商品名、商品コード、JANコードなどを対象に部分一致検索 |
| カテゴリ | ドロップダウン | マスタに登録されているカテゴリ一覧 |
| 在庫状況 | ドロップダウン | 「すべて」「在庫あり」「在庫少」「在庫切れ」 |
| 表示件数 | ドロップダウン | 25件、50件、100件から選択 |

## 4. 一覧表示項目

| 項目名 | 表示内容 | ソート | 備考 |
|-------|---------|------|------|
| ID | 商品ID | 〇 | デフォルトの並び順（昇順） |
| 商品名 | 商品の名称 | 〇 | リンク形式で表示（クリックで詳細画面へ） |
| 在庫数 | 現在の在庫数量と単位 | 〇 | |
| 状態 | 在庫状況 | 〇 | 「十分」「少量」「在庫切れ」などで表示 |

## 5. ボタン/リンク

| 名称 | 処理内容 | アクセス権限 |
|------|---------|------------|
| 検索 | 入力された条件で商品を検索する | 全ユーザー |
| 絞込 | 選択された条件で商品を絞り込む | 全ユーザー |
| 入庫登録 | 入庫登録ダイアログを表示 | 在庫管理権限あり |
| 出庫登録 | 出庫登録ダイアログを表示 | 在庫管理権限あり |
| 商品名 | 対象商品の詳細画面へ遷移 | 全ユーザー |
| ページネーション | 対象ページの結果を表示 | 全ユーザー |

## 6. ページネーション

表示件数を超える商品がある場合、ページネーションを表示します。

- 「<<」：先頭ページへ
- 「<」：前のページへ
- ページ番号：対応するページへ
- 「>」：次のページへ
- 「>>」：最終ページへ

## 7. ダイアログ

### 入庫登録ダイアログ

商品の入庫を登録するためのダイアログ。以下の入力項目を含む：

- 商品選択：商品を検索して選択するための検索ボックス
- 入庫数量：数値入力
- 入庫理由：「通常入荷」「返品」「その他」などから選択
- メモ：任意の備考（テキストエリア）

### 出庫登録ダイアログ

商品の出庫を登録するためのダイアログ。以下の入力項目を含む：

- 商品選択：商品を検索して選択するための検索ボックス
- 出庫数量：数値入力（在庫数を超える値は入力不可）
- 出庫理由：「販売」「破損」「廃棄」「その他」などから選択
- メモ：任意の備考（テキストエリア）

## 8. バリデーションチェック

| チェック内容 | エラーメッセージ |
|------------|----------------|
| 商品が選択されていない | 「商品を選択してください」 |
| 数量が入力されていない | 「数量を入力してください」 |
| 数量がマイナスまたは0 | 「1以上の数値を入力してください」 |
| 出庫時に在庫数を超える数量が指定された | 「在庫数を超える数量は出庫できません」 |
| 理由が選択されていない | 「理由を選択してください」 |

## 9. 遷移先

| イベント | 遷移先画面 |
|---------|-----------|
| 商品名リンクをクリック | 商品詳細画面（対象商品） |
| メニューから戻る | メインメニュー画面 |

## 10. 特記事項

- 在庫状況は以下のルールで判定される：
  - 在庫切れ：在庫数 = 0
  - 少量：在庫数 < 設定された下限閾値
  - 十分：在庫数 ≥ 設定された下限閾値
- 在庫切れの商品は背景色を赤色、在庫少の商品は黄色で表示する
- 入出庫処理を行った後は、該当商品の在庫数が即時更新される
- 入出庫履歴は自動的に記録され、商品詳細画面で確認可能