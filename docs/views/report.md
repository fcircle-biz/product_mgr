# レポート画面仕様書

最終更新日: 2025年5月4日

## 1. 画面概要

システムに登録されている商品や在庫に関する各種レポートを表示する画面です。

## 2. 画面レイアウト

### ワイヤーフレーム

```
+-----------------------------------------------+
|  商品管理システム > レポート      ログアウト  |
+-----------------------------------------------+
|                                               |
|  レポート種類: [▼在庫推移レポート]           |
|                                               |
|  期間: [▼過去3ヶ月] [日付指定] [適用]        |
|                                               |
|  カテゴリ: [▼すべて] [適用]                  |
|                                               |
|  +---------------------------------------+    |
|  |                                       |    |
|  |                                       |    |
|  |       グラフ/チャート表示領域        |    |
|  |                                       |    |
|  |                                       |    |
|  +---------------------------------------+    |
|                                               |
|  データ表示                                   |
|  +--------+--------+--------+--------+        |
|  | 項目1  | 項目2  | 項目3  | 項目4  |        |
|  +--------+--------+--------+--------+        |
|  | 値1    | 値2    | 値3    | 値4    |        |
|  +--------+--------+--------+--------+        |
|  | ...    | ...    | ...    | ...    |        |
|  +--------+--------+--------+--------+        |
|                                               |
|  [CSVダウンロード] [印刷]                     |
|                                               |
+-----------------------------------------------+
```

## 3. レポート種類

| レポート名 | 内容 | フィルター | 表示形式 |
|------------|------|------------|----------|
| 在庫推移レポート | 指定期間内の在庫数量の推移を表示 | 期間、カテゴリ、商品 | 折れ線グラフ + 表 |
| 入出庫サマリー | 指定期間内の入庫・出庫量を集計 | 期間、カテゴリ、区分 | 棒グラフ + 表 |
| 在庫回転率レポート | 商品の在庫回転率を分析 | 期間、カテゴリ | 棒グラフ + 表 |
| 在庫警告レポート | 在庫切れ・在庫少の商品リスト | カテゴリ、警告種類 | 表 |
| カテゴリ別在庫分布 | カテゴリ別の在庫分布を表示 | カテゴリ | 円グラフ + 表 |

## 4. フィルター条件

| 項目名 | 入力/選択項目 | 備考 |
|--------|---------------|------|
| レポート種類 | ドロップダウン | 上記レポート種類から選択 |
| 期間 | ドロップダウン | 「過去3ヶ月」「過去6ヶ月」「過去1年」「全期間」「日付指定」 |
| 日付指定 | 日付ピッカー | 期間で「日付指定」を選択した場合に表示される開始日と終了日の選択 |
| カテゴリ | ドロップダウン | 「すべて」または特定のカテゴリを選択 |
| 商品 | ドロップダウン | 「すべて」または特定の商品を選択（一部のレポートのみ） |
| 区分 | チェックボックス | 「入庫」「出庫」を個別に選択可能（一部のレポートのみ） |
| 警告種類 | チェックボックス | 「在庫切れ」「在庫少」を個別に選択可能（在庫警告レポートのみ） |

## 5. レポート表示項目

レポート種類によって表示される項目は異なります。以下は代表的なレポートの表示項目例です。

### 在庫推移レポート

| 項目名 | 表示内容 | 備考 |
|--------|----------|------|
| 日付 | 日付（横軸） | YYYY/MM/DD形式 |
| 在庫数 | 指定日の在庫数（縦軸） | 各商品または合計 |
| 入庫数 | 指定日の入庫数 | 表のみに表示 |
| 出庫数 | 指定日の出庫数 | 表のみに表示 |

### 在庫警告レポート

| 項目名 | 表示内容 | 備考 |
|--------|----------|------|
| 商品ID | 商品ID | |
| 商品名 | 商品の名称 | リンク形式で表示（クリックで詳細画面へ） |
| カテゴリ | 商品のカテゴリ | |
| 現在の在庫 | 現在の在庫数量 | |
| 警告状態 | 「在庫切れ」「在庫少」 | 在庫切れは赤字、在庫少は黄色で表示 |
| 最終入庫日 | 最後に入庫があった日付 | YYYY/MM/DD形式 |

## 6. ボタン/リンク

| 名称 | 処理内容 |
|------|----------|
| 適用（期間） | 選択された期間でレポートを更新 |
| 適用（カテゴリ） | 選択されたカテゴリでレポートを更新 |
| CSVダウンロード | 現在表示されているレポートデータをCSV形式でダウンロード |
| 印刷 | 現在表示されているレポートを印刷用フォーマットで表示 |
| 商品名リンク | 対象商品の詳細画面へ遷移（在庫警告レポートなど） |

## 7. CSVダウンロード

CSVダウンロードボタンをクリックすると、現在表示されているレポートデータがCSV形式でダウンロードされます。

CSVのヘッダー行と例（在庫推移レポートの場合）：

```
日付,在庫数,入庫数,出庫数
2025/05/04,150,50,30
2025/05/03,130,0,20
2025/05/02,150,50,0
...
```

## 8. 印刷機能

印刷ボタンをクリックすると、現在表示されているレポートが印刷用フォーマットで表示されます。印刷用画面には以下の要素が含まれます：

- レポートタイトル
- 出力日時
- フィルター条件
- グラフ/チャート
- データ表

## 9. 遷移先

| イベント | 遷移先画面 |
|----------|------------|
| メニューから戻る | メインメニュー画面 |
| 商品名リンクをクリック | 商品詳細画面（対象商品） |

## 10. 特記事項

- グラフ表示には画面サイズに応じて適切なレスポンシブデザインを適用する
- レポート種類を切り替えると、関連するフィルター項目も自動的に切り替わる
- データ量が多い場合は、ページング機能によりデータテーブルを複数ページに分割表示する
- グラフ上のデータポイントにカーソルを合わせると、詳細情報がツールチップで表示される