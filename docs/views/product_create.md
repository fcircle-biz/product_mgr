# 商品登録画面仕様書

最終更新日: 2025年5月4日

## 1. 画面概要

新規商品を登録するための画面です。商品編集画面と共通のレイアウトを使用します。

## 2. 画面レイアウト

### ワイヤーフレーム

```
+-----------------------------------------------+
|  商品管理システム > 商品一覧 > 新規登録  ログアウト  |
+-----------------------------------------------+
|                                               |
|  [一覧へ戻る]                                 |
|                                               |
|  商品新規登録                                 |
|  +-------------------+---------------------+  |
|  | 商品ID            | (自動採番)          |  |
|  +-------------------+---------------------+  |
|  | 商品名 *          | [___________________]  |  |
|  +-------------------+---------------------+  |
|  | JANコード         | [___________________]  |  |
|  +-------------------+---------------------+  |
|  | カテゴリ *        | [▼選択してください]  |  |
|  +-------------------+---------------------+  |
|  | 販売価格（税抜）* | [___________] 円     |  |
|  +-------------------+---------------------+  |
|  | 初期在庫数 *      | [_______] [▼単位]    |  |
|  +-------------------+---------------------+  |
|  | 商品状態 *        | [▼販売中]           |  |
|  +-------------------+---------------------+  |
|  | 商品説明          | [                   ]  |
|  |                   | [                   ]  |
|  |                   | [                   ]  |
|  +-------------------+---------------------+  |
|                                               |
|  * は必須入力項目です                          |
|                                               |
|  [キャンセル]               [登録する]        |
|                                               |
+-----------------------------------------------+
```

## 3. 入力項目

| 項目名 | 項目型 | 入力規則 | 必須 | 初期値 | 備考 |
|-------|-------|---------|-----|-------|------|
| 商品ID | テキスト | - | - | (自動採番) | 表示のみ（入力不可） |
| 商品名 | テキスト | 最大100文字 | 〇 | 空 | |
| JANコード | テキスト | 数字13桁 | | 空 | バーコードスキャナーなどからの入力に対応 |
| カテゴリ | セレクトボックス | - | 〇 | 未選択 | マスタに登録されたカテゴリから選択 |
| 販売価格（税抜） | 数値 | 0-999999999 | 〇 | 0 | 整数のみ、カンマなし |
| 初期在庫数 | 数値+セレクト | 0-999999 | 〇 | 0 | 単位は「個」「箱」「本」などから選択 |
| 商品状態 | セレクトボックス | - | 〇 | 販売中 | 「販売中」「入荷待ち」「販売終了」など |
| 商品説明 | テキストエリア | 最大1000文字 | | 空 | 複数行入力可能 |

## 4. ボタン

| ボタン名 | 処理内容 |
|---------|---------|
| 一覧へ戻る | 登録をキャンセルし、商品一覧画面へ遷移する |
| キャンセル | 登録をキャンセルし、商品一覧画面へ遷移する |
| 登録する | 入力内容を検証し、問題なければデータを登録して商品詳細画面へ遷移する |

## 5. バリデーションチェック

| チェック内容 | エラーメッセージ |
|------------|----------------|
| 必須項目が入力されていない | 「必須項目を入力してください」 |
| 商品名が100文字を超えている | 「商品名は100文字以内で入力してください」 |
| JANコードが13桁の数字でない | 「JANコードは13桁の数字で入力してください」 |
| JANコードが既に登録されている | 「入力されたJANコードは既に登録されています」 |
| カテゴリが選択されていない | 「カテゴリを選択してください」 |
| 販売価格が数値でない、または範囲外 | 「価格は0から999999999の間で入力してください」 |
| 初期在庫数が数値でない、または範囲外 | 「在庫数は0から999999の間で入力してください」 |
| 商品説明が1000文字を超えている | 「商品説明は1000文字以内で入力してください」 |

## 6. 遷移先

| イベント | 遷移先画面 |
|---------|-----------|
| 一覧へ戻るをクリック | 商品一覧画面 |
| キャンセルをクリック | 商品一覧画面 |
| 登録するをクリック（成功時） | 商品詳細画面（新規作成した商品） |
| 登録するをクリック（エラー時） | 登録画面（エラーメッセージ表示） |

## 7. 特記事項

- 登録時に自動的に商品IDが採番される
- 登録日時と最終更新日時は登録時の日時が自動的に設定される
- 初期在庫数が1以上の場合、在庫履歴に「初期在庫」として記録される
- 入力途中で別のページへ移動しようとした場合、入力内容が破棄される旨の確認ダイアログを表示する